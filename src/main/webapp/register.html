<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

<head>

    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>TP 3IF Ajax</title>
    <meta name="author" content="ElÅ‘d EGYED-ZSIGMOND">

    <script type="text/javascript" src="partieJavascript.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>

<body>
    <h1>Inscription</h1>
    <p>
        <br />
        Adresse mail : <input name="text" type="text" id="email" value="" />
        <br /><br />
        <span id="mdpcolor" style="color: black"> Mot de passe : </span> <input name="text" type="text" id="mdp"
            value="" />
        <br /><br />
        Confirmation du mot de passe : <input name="text" type="text" id="cmdp" value="" />
        <br /><br />
        Nom : <input name="text" type="text" id="lastname" value="" />
        <br /><br />
        Prenom : <input name="text" type="text" id="firstname" value="" />
        <br /><br />
        Telephone : <input name="text" type="text" id="phone" value="" />
        <br /><br />
        Adresse : <input name="text" type="text" id="address" value="" />
        <br /><br />
        <input name="Inscription" type="button" id="signin" value="Inscription" />
        <script>
            $(document).ready(function () {
                $("#signin").on("click", function () {
                    if (document.getElementById('mdp').value == document.getElementById('cmdp').value) {
                        $.ajax({
                            url: './ActionServlet',
                            type: 'POST',
                            data: {
                                todo: 'inscription',
                                mail: $('#email').val(),
                                password: $('#mdp').val(),
                                lastname: $('lastname').val(),
                                firstname: $('firstname').val(),
                                phone: $('phone').val(),
                                address: $('address').val()
                            },
                            dataType: 'json'
                        });
                    }
                    else {
                        document.getElementById('mdpcolor').style = "color: red";
                    }

                });
            });
        </script>

</body>

</html>